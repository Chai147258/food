<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏ï‡∏•‡∏≤‡∏î‡∏≤‡∏£‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå @‡∏•‡∏∏‡∏á‡∏ä‡∏±‡∏¢‡πÑ‡∏ä‡πÇ‡∏¢</title>

<style>
:root{
  --bg-main:#4cc6d9;
  --bg-soft:#e9f8fb;
  --jelly:#5a3a1a;
  --accent:#ffd400;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,sans-serif;
  background:linear-gradient(180deg,var(--bg-main),var(--bg-soft));
}
header{text-align:center;padding:32px 16px}
header h1{color:#fff;margin:0}
header p{color:#ffd400;font-weight:600}

.section{padding:16px;max-width:1000px;margin:auto}
.section h2{
  background:#fff;color:var(--jelly);
  padding:8px 16px;border-radius:14px;
  display:inline-block;
}

.menu{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
  gap:14px;margin-top:16px;
}
.item{
  background:#fff;border-radius:18px;
  overflow:hidden;box-shadow:0 6px 14px rgba(0,0,0,.18)
}
.item img{width:100%;height:140px;object-fit:cover}
.info{text-align:center;padding:12px}
.info h4{margin:0;color:var(--jelly)}
.info p{font-weight:700}
.order-btn{
  padding:10px;border:none;border-radius:12px;
  background:var(--accent);font-weight:700;
  cursor:pointer;width:100%;
}

/* cart */
#cartBox{
  position:fixed;bottom:20px;right:20px;
  width:320px;background:#fff;
  border-radius:16px;padding:12px;
  box-shadow:0 10px 22px rgba(0,0,0,.3);
  z-index:999;
}
#cartItems{font-size:14px;margin-bottom:8px}

/* order form */
#orderBox{display:none;margin-top:10px}
#orderBox input,textarea{
  width:100%;padding:8px;margin-bottom:6px;
  border-radius:8px;border:1px solid #ccc;
}
#gpsStatus{font-size:12px;color:green}

.summary{
  font-size:14px;
  margin-top:6px;
  background:#f6f6f6;
  padding:8px;
  border-radius:8px;
}

footer{text-align:center;font-size:13px;padding:24px}
</style>
</head>

<body>

<header>
<h1>‡∏ï‡∏•‡∏≤‡∏î‡∏≤‡∏£‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå @‡∏•‡∏∏‡∏á‡∏ä‡∏±‡∏¢‡πÑ‡∏ä‡πÇ‡∏¢</h1>
<p>‡πÑ‡∏°‡πà‡πÄ‡∏ô‡πâ‡∏ô‡∏Ç‡∏≤‡∏¢ ‡πÄ‡∏ô‡πâ‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á</p>
</header>

<section class="section">
<h2>üçõ ‡∏≠‡∏≤‡∏´‡∏≤‡∏£</h2>
<div class="menu">

<div class="item">
<img src="assets/images/Ch3.jpg">
<div class="info">
<h4>‡∏Ç‡πâ‡∏≤‡∏ß‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡πÑ‡∏Å‡πà</h4>
<p>60 ‡∏ö‡∏≤‡∏ó</p>
<button class="order-btn" onclick="addToCart('‡∏Ç‡πâ‡∏≤‡∏ß‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡πÑ‡∏Å‡πà',60)">‡πÉ‡∏™‡πà‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>
</div>
</div>

<div class="item">
<img ssrc="assets/images/Ch4.jpg">
<div class="info">
<h4>‡∏Ç‡πâ‡∏≤‡∏ß‡∏ú‡∏±‡∏î‡∏´‡∏°‡∏π</h4>
<p>60 ‡∏ö‡∏≤‡∏ó</p>
<button class="order-btn" onclick="addToCart('‡∏Ç‡πâ‡∏≤‡∏ß‡∏ú‡∏±‡∏î‡∏´‡∏°‡∏π',60)">‡πÉ‡∏™‡πà‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>
</div>
</div>

</div>
</section>

<section class="section">
<h2>ü•§ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°</h2>
<div class="menu">

<div class="item">
<img src="assets/images/Ch2.jpg">
<div class="info">
<h4>‡∏ä‡∏≤‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏™‡∏î</h4>
<p>45 ‡∏ö‡∏≤‡∏ó</p>
<button class="order-btn" onclick="addToCart('‡∏ä‡∏≤‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏™‡∏î',45)">‡πÉ‡∏™‡πà‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>
</div>
</div>

<div class="item">
<img src="assets/images/Ch1.jpg">
<div class="info">
<h4>‡πÄ‡∏â‡∏≤‡∏Å‡πä‡∏ß‡∏¢‡∏ô‡∏°‡∏™‡∏î</h4>
<p>40 ‡∏ö‡∏≤‡∏ó</p>
<button class="order-btn" onclick="addToCart('‡πÄ‡∏â‡∏≤‡∏Å‡πä‡∏ß‡∏¢‡∏ô‡∏°‡∏™‡∏î',40)">‡πÉ‡∏™‡πà‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>
</div>
</div>

</div>
</section>

<!-- CART -->
<div id="cartBox">
<b>üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</b>
<div id="cartItems"></div>

<div class="summary">
üìè ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á: <span id="distance">-</span> ‡∏Å‡∏°.<br>
üöö ‡∏Ñ‡πà‡∏≤‡∏™‡πà‡∏á: <span id="shipping">0</span> ‡∏ö‡∏≤‡∏ó<br>
<hr>
<b>‡∏£‡∏ß‡∏°‡∏™‡∏∏‡∏ó‡∏ò‡∏¥: <span id="grandTotal">0</span> ‡∏ö‡∏≤‡∏ó</b>
</div>

<button class="order-btn" onclick="showOrder()">‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</button>

<div id="orderBox">
<input id="custName" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏™‡∏±‡πà‡∏á">
<input id="custPhone" placeholder="‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£">
<textarea id="custAddress" placeholder="‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà / ‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏à‡∏±‡∏î‡∏™‡πà‡∏á"></textarea>
<div id="gpsStatus"></div>
<button class="order-btn" onclick="orderLine()">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏™‡∏±‡πà‡∏á‡∏ú‡πà‡∏≤‡∏ô LINE</button>
</div>
</div>

<footer>¬©‡∏ï‡∏•‡∏≤‡∏î‡∏≤‡∏£‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå @‡∏•‡∏∏‡∏á‡∏ä‡∏±‡∏¢‡πÑ‡∏ä‡πÇ‡∏¢</footer>

<script>
const SHOP_LAT = 13.136716; // üî¥ ‡πÅ‡∏Å‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏£‡πâ‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á
const SHOP_LNG = 101.392377;

let cart=[];
let lat="",lng="";
let shippingCost=0;
let distanceKm=0;

function addToCart(name,price){
  cart.push({name,price});
  renderCart();
}

function renderCart(){
  let box=document.getElementById("cartItems");
  let total=0;
  box.innerHTML="";
  cart.forEach(i=>{
    box.innerHTML+=`‚Ä¢ ${i.name} ${i.price}‡∏ø<br>`;
    total+=i.price;
  });
  document.getElementById("grandTotal").innerText = total + shippingCost;
}

function showOrder(){
  if(cart.length===0){
    alert("‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤");
    return;
  }
  document.getElementById("orderBox").style.display="block";
  getLocation();
}

function getLocation(){
  if(navigator.geolocation){
    navigator.geolocation.getCurrentPosition(pos=>{
      lat=pos.coords.latitude;
      lng=pos.coords.longitude;

      distanceKm = calcDistance(SHOP_LAT,SHOP_LNG,lat,lng);
      shippingCost = calcShipping(distanceKm);

      document.getElementById("distance").innerText = distanceKm.toFixed(1);
      document.getElementById("shipping").innerText = shippingCost;

      document.getElementById("custAddress").value =
        `‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤: https://maps.google.com/?q=${lat},${lng}`;

      renderCart();
      document.getElementById("gpsStatus").innerText="üìç ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤‡∏™‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß";
    },()=>{
      document.getElementById("gpsStatus").innerText="‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏û‡∏¥‡∏Å‡∏±‡∏î‡πÑ‡∏î‡πâ";
    });
  }
}

function calcShipping(km){
  if(km<=33) return 35;
  return 35 + Math.ceil(km-33)*12;
}

function calcDistance(lat1,lng1,lat2,lng2){
  const R=6371;
  const dLat=(lat2-lat1)*Math.PI/180;
  const dLng=(lng2-lng1)*Math.PI/180;
  const a=
    Math.sin(dLat/2)*Math.sin(dLat/2)+
    Math.cos(lat1*Math.PI/180)*
    Math.cos(lat2*Math.PI/180)*
    Math.sin(dLng/2)*Math.sin(dLng/2);
  return R*2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));
}

function orderLine(){
  let name=custName.value.trim();
  let phone=custPhone.value.trim();
  let addr=custAddress.value.trim();
  if(!name||!phone||!addr){
    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö");
    return;
  }

  let foodTotal=cart.reduce((s,i)=>s+i.price,0);

  let msg=`üßæ ‡∏™‡∏±‡πà‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£
‡∏ä‡∏∑‡πà‡∏≠: ${name}
‡πÄ‡∏ö‡∏≠‡∏£‡πå: ${phone}
‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà: ${addr}

üìè ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á ${distanceKm.toFixed(1)} ‡∏Å‡∏°.
üöö ‡∏Ñ‡πà‡∏≤‡∏™‡πà‡∏á ${shippingCost} ‡∏ö‡∏≤‡∏ó

‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£:
`;
  cart.forEach(i=>msg+=`- ${i.name} ${i.price}‡∏ø\n`);
  msg+=`\n‡∏£‡∏ß‡∏°‡∏™‡∏∏‡∏ó‡∏ò‡∏¥ ${foodTotal+shippingCost} ‡∏ö‡∏≤‡∏ó`;
https://lin.ee/T3owdks
  window.open(
    "https://lin.ee/T3owdks/msg/text/?"+encodeURIComponent(msg)
  );
}
</script>

</body>
</html>